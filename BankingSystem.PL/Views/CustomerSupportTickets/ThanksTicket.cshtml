@using BankingSystem.DAL.Models
@model BankingSystem.DAL.Models.SupportTicket
@{
    ViewData["Title"] = "Ticket Submitted";
}

<link rel="stylesheet" href="/css/CustomerHome.css" />
<div class="profile-container">
    <!-- Header Section -->
    <div class="welcome-section">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="mb-2 fw-bold text-primary">Ticket Submitted Successfully</h1>
                <p class="mb-2 fs-5">Thank you for reaching out to us.</p>
                <p class="mb-0 text-muted">Our support team will review your ticket and respond as soon as possible.</p>
            </div>
            <div class="col-md-4 text-center d-none d-md-block">
                <i class="bi bi-check-circle text-success" style="font-size: 5rem;"></i>
            </div>
        </div>
    </div>

    <!-- Ticket Details Card -->
    <div class="customer-details">
        <div class="card shadow-sm">
            <div class="card-body p-3">
                <div class="profile-header mb-4">
                    <h4 class="mb-0">Ticket Details</h4>
                </div>

                <div class="row">
                    <div class="col-md-8 mx-auto">
                        <div class="alert alert-success mb-4">
                            <i class="bi bi-check-circle-fill me-2"></i>
                            Your ticket has been submitted successfully. Please save your ticket number for reference.
                        </div>

                        <div class="mb-4 text-center">
                            <div class="badge bg-primary p-3 fs-5 mb-3">Ticket #@Model.Id</div>
                        </div>

                        <div class="card mb-4">
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-md-4 fw-bold">Ticket Type:</div>
                                    <div class="col-md-8">@Model.Type.ToString()</div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-4 fw-bold">Title:</div>
                                    <div class="col-md-8">@Model.Title</div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-4 fw-bold">Date Submitted:</div>
                                    <div class="col-md-8">@Model.Date.ToString("MMM dd, yyyy hh:mm tt")</div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-4 fw-bold">Status:</div>
                                    <div class="col-md-8">
                                        <span class="badge bg-warning text-dark">@Model.Status.ToString()</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4 fw-bold">Description:</div>
                                    <div class="col-md-8">@Model.Description</div>
                                </div>
                            </div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="bi bi-clock me-2"></i>Expected Response Time</h5>
                                        <p class="card-text">
                                            @switch (Model.Type)
                                            {
                                                case SupportTicketType.AccountIssue:
                                                    <span>Within 24 hours</span>
                                                    break;
                                                case SupportTicketType.LoanIssue:
                                                    <span>Within 48 hours</span>
                                                    break;
                                                case SupportTicketType.TransactionIssue:
                                                    <span>Within 24 hours</span>
                                                    break;
                                                default:
                                                    <span>Within 72 hours</span>
                                                    break;
                                            }
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="bi bi-envelope me-2"></i>Notification</h5>
                                        <p class="card-text">You will receive an email notification when we respond to your ticket.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center">
                            <a asp-controller="CustomerProfile" asp-action="Details" asp-route-id="@Model.CustomerId" class="btn btn-primary me-2">
                                <i class="bi bi-house me-2"></i>Return to Dashboard
                            </a>
                            <a asp-controller="CustomerSupportTickets" asp-action="Details" asp-route-id="@Model.CustomerId" class="btn btn-outline-primary">
                                <i class="bi bi-ticket-detailed me-2"></i>View My Tickets
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="mt-4 pt-3 border-top text-center text-muted">
        <small>&copy; 2025 SecureBank. All rights reserved.</small>
    </div>
</div>