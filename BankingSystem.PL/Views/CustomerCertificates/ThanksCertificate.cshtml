@using BankingSystem.DAL.Models
@using BankingSystem.PL.ViewModels.Customer
@model CustomerCertificateVM

@{
    ViewData["Title"] = "Certificate Issued";
}

<link rel="stylesheet" href="/css/CustomerHome.css" />

<div class="profile-container">
    <!-- Thank You Header Section -->
    <div class="welcome-section" style="background: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url('/images/loan-bg.jpg') no-repeat center; background-size: cover; padding: 2.5rem; border-radius: 0.5rem; margin-bottom: 2rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);">
        <div class="row align-items-center">
            <div class="col-md-9">
                <h2 class="mb-2 display-5 fw-bold text-success">Your Certificate Has Been Issued!</h2>
                <p class="mb-0 fs-5">Thank you for requesting a certificate. Below are your certificate details.</p>
            </div>
            <div class="col-md-3 text-center d-none d-md-block">
                <i class="bi bi-patch-check-fill text-success" style="font-size: 5rem;"></i>
            </div>
        </div>
    </div>

    <!-- Certificate Details Card -->
    <div class="customer-details">
        <div class="card shadow-sm">
            <div class="card-body p-3">
                <div class="profile-header">
                    <h4 class="mb-3">Certificate Details</h4>
                    <span class="badge bg-info text-dark">Issued</span>
                </div>

                <div class="row g-3">
                    <!-- Certificate Number -->
                    <div class="col-md-6">
                        <div class="detail-card d-flex align-items-center">
                            <div class="detail-icon">
                                <i class="bi bi-file-earmark-text"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">Certificate Number</div>
                                <div class="detail-value">@Model.CustomerCertificateNumber</div>
                            </div>
                        </div>
                    </div>

                    <!-- Certificate Name -->
                    <div class="col-md-6">
                        <div class="detail-card d-flex align-items-center">
                            <div class="detail-icon">
                                <i class="bi bi-file-earmark-text"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">Certificate Name</div>
                                <div class="detail-value">@Model.Name</div>
                            </div>
                        </div>
                    </div>

                    <!-- Certificate Amount -->
                    <div class="col-md-6">
                        <div class="detail-card d-flex align-items-center">
                            <div class="detail-icon">
                                <i class="bi bi-cash-coin"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">Amount</div>
                                <div class="detail-value">$@Model.Amount</div>
                            </div>
                        </div>
                    </div>

                    <!-- Interest Rate -->
                    <div class="col-md-6">
                        <div class="detail-card d-flex align-items-center">
                            <div class="detail-icon">
                                <i class="bi bi-percent"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">Interest Rate</div>
                                <div class="detail-value">@Model.InterestRate%</div>
                            </div>
                        </div>
                    </div>

                    @* <!-- Duration --> *@
                    @* <div class="col-md-6"> *@
                    @*     <div class="detail-card d-flex align-items-center"> *@
                    @*         <div class="detail-icon"> *@
                    @*             <i class="bi bi-hourglass-split"></i> *@
                    @*         </div> *@
                    @*         <div class="detail-content"> *@
                    @*             <div class="detail-label">Duration</div> *@
                    @*             <div class="detail-value">@Model.Duration months</div> *@
                    @*         </div> *@
                    @*     </div> *@
                    @* </div> *@

                    <!-- Issue Date -->
                    <div class="col-md-6">
                        <div class="detail-card d-flex align-items-center">
                            <div class="detail-icon">
                                <i class="bi bi-calendar-check"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">Issue Date</div>
                                <div class="detail-value">@Model.IssueDate.ToString("MMMM d, yyyy")</div>
                            </div>
                        </div>
                    </div>

                    <!-- Expiry Date -->
                    <div class="col-md-6">
                        <div class="detail-card d-flex align-items-center">
                            <div class="detail-icon">
                                <i class="bi bi-calendar-x"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">Expiry Date</div>
                                <div class="detail-value">@Model.ExpiryDate.ToString("MMMM d, yyyy")</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Certificate Notes Card -->
    <div class="mt-4">
        <div class="card shadow-sm">
            <div class="card-body p-4">
                <h4 class="mb-3 text-center">Important Notes</h4>
                <ul class="text-muted">
                    <li>Your certificate will automatically expire on the expiry date listed above.</li>
                    <li>Please ensure to renew or redeem your certificate before its expiration.</li>
                    <li>For questions, contact customer support or visit your nearest branch.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="mt-4 text-center">
        <a asp-action="Details" asp-controller="CustomerProfile" asp-route-id="@Model.CustomerId" class="btn btn-primary px-4 py-2 me-2">
            <i class="bi bi-house-door me-2"></i>Return to Dashboard
        </a>
    </div>
</div>

<!-- Footer -->
<div class="mt-4 pt-3 border-top text-center text-muted">
    <small>&copy; 2025 SecureBank. All rights reserved.</small>
</div>
